<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Servers - <%= settings.name %>
    </title>
    <% if (settings.api.arcio.enabled==true) { %>
        <script async src="https://arc.io/widget.min.js#<%= settings.api.arcio.widgetid %>"></script>
        <% } %>

            <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
            <link rel="icon"
                href="https://images-ext-1.discordapp.net/external/sMKkyuJo8Wn_AK_Foyl0aGrWwhe9fbqtPgkThvHxdxs/%3Fsize%3D1024/https/cdn.discordapp.com/icons/933803406513012807/bb763a3db98f9f0ae8d6029e8355dd06.png"
                type="image/png">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
            <link rel="stylesheet" href="/assets/thmeneed/vendor/nucleo/css/nucleo.css" type="text/css">
            <link rel="stylesheet" href="/assets/thmeneed/vendor/@fortawesome/fontawesome-free/css/all.min.css"
                type="text/css">
            <link rel="stylesheet" href="/assets/thmeneed/css/argon.css?v=1.2.0" type="text/css">
            <script src="https://kit.fontawesome.com/b97ffc16ff.js" crossorigin="anonymous"></script>

            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
            <title>Dashboard - <%= settings.name %>
            </title>
            <% if (settings.api.arcio.enabled==true) { %>
                <script async src="https://arc.io/widget.min.js#<%= settings.api.arcio.widgetid %>"></script>
                <% } %>
                    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
                    <link rel="icon"
                        href="https://images-ext-1.discordapp.net/external/sMKkyuJo8Wn_AK_Foyl0aGrWwhe9fbqtPgkThvHxdxs/%3Fsize%3D1024/https/cdn.discordapp.com/icons/933803406513012807/bb763a3db98f9f0ae8d6029e8355dd06.png"
                        type="image/png">
                    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
                    <link rel="stylesheet" href="/assets/thmeneed/vendor/nucleo/css/nucleo.css" type="text/css">
                    <link rel="stylesheet"
                        href="/assets/thmeneed/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
                    <link rel="stylesheet" href="/assets/thmeneed/css/argon.css?v=1.2.0" type="text/css">
                    <script src="https://kit.fontawesome.com/b97ffc16ff.js" crossorigin="anonymous"></script>

                    <html lang="en" class="light-style layout-menu-fixed" dir="ltr" data-theme="theme-default"
                        data-assets-path="../assets/" data-template="vertical-menu-template-free">

                    <head>
                        <meta charset="utf-8" />
                        <meta name="viewport"
                            content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
                        <meta name="description" content="" />

                        <!-- Favicon -->
                        <link rel="icon" type="image/x-icon" href="../assets/img/favicon/favicon.ico" />

                        <!-- Fonts -->
                        <link rel="preconnect" href="https://fonts.googleapis.com" />
                        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
                        <link
                            href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
                            rel="stylesheet" />

                        <!-- Icons. Uncomment required icon fonts -->
                        <link rel="stylesheet" href="../assets/vendor/fonts/boxicons.css" />

                        <!-- Core CSS -->
                        <link rel="stylesheet" href="../assets/vendor/css/core.css"
                            class="template-customizer-core-css" />
                        <link rel="stylesheet" href="../assets/vendor/css/theme-default.css"
                            class="template-customizer-theme-css" />
                        <link rel="stylesheet" href="../assets/css/demo.css" />

                        <!-- Vendors CSS -->
                        <link rel="stylesheet" href="../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

                        <link rel="stylesheet" href="../assets/vendor/libs/apex-charts/apex-charts.css" />

                        <!-- Page CSS -->

                        <!-- Helpers -->
                        <script src="../assets/vendor/js/helpers.js"></script>

                        <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
                        <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
                        <script src="../assets/js/config.js"></script>
                        <div class="layout-wrapper layout-content-navbar">
                            <div class="layout-container">
                                <!-- Menu -->

                                <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
                                    <div class="app-brand demo">
                                        <a href="/dashboard" class="app-brand-link">
                                            <span class="app-brand-logo demo">
                            <span class="app-brand-logo demo">
                                    <img width="25" viewBox="0 0 25 42" src="/assets/img/favicon/logor.png">
                            </span>
                                            </span>
                                            <span class="app-brand-text demo menu-text fw-bolder ms-2">
                                                <%= settings.name %>
                                            </span>
                                        </a>

                                        <a href="javascript:void(0);"
                                            class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
                                            <i class="bx bx-chevron-left bx-sm align-middle"></i>
                                        </a>
                                    </div>

                                    <div class="menu-inner-shadow"></div>

                                    <ul class="menu-inner py-1">
                                        <!-- Dashboard -->
                                        <li class="menu-item">
                                            <a href="/dashboard" class="menu-link">
                                                <i class="menu-icon tf-icons bx bx-home-circle"></i>
                                                <div data-i18n="Analytics">Dashboard</div>
                                            </a>
                                        </li>
                                        <li class="menu-item">
                                            <a href="/servers" class="menu-link">
                                                <i class="menu-icon tf-icons bx bx-server"></i>
                                                <div data-i18n="Layouts">Servers</div>
                                            </a>
                                        </li>
                                        <li class="menu-item active">
                                            <a href="/create" class="menu-link">
                                                <i class="menu-icon tf-icons bx bx-plus-medical"></i>
                                                <div data-i18n="Layouts">Create a Server</div>
                                            </a>
                                        </li>


                    <!-- Pages -->
                    <li class="menu-header small text-uppercase">
                        <span class="menu-header-text">Pages</span>
                    </li>
                    <li class="menu-item">
                        <a href="/gift" class="menu-link">
                            <i class="menu-icon tf-icons bx bx-gift"></i>
                            <div data-i18n="Layouts">Gift</div>
                        </a>
                    </li>
                    <li class="menu-item">
                      <a href="/redeem" class="menu-link">
                        <i class="menu-icon tf-icons bx bx-book-reader"></i>
                        <div data-i18n="Layouts">Redeem</div>
                      </a>
                  </li>
                    <li class="menu-item">
                      <a href="/j4r" class="menu-link">
                          <i class="menu-icon tf-icons bx bx-diamond"></i>
                          <div data-i18n="Layouts">Join for Reward</div>
                      </a>
                  </li>
                  <li class="menu-item">
                    <a href="/lv" class="menu-link">
                      <i class="menu-icon tf-icons bx bx-link-external"></i>
                      <div data-i18n="Layouts">Linkvertise Earning</div>
                    </a>
                </li>
               <!-- Pages End -->
               <!-- Store -->
               <li class="menu-header small text-uppercase">
                <span class="menu-header-text">Store</span>
            </li>
            <li class="menu-item">
                <a href="/store" class="menu-link">
                    <i class="menu-icon tf-icons bx bx-store"></i>
                    <div data-i18n="Layouts">Store</div>
                </a>
            </li>
            <li class="menu-item">
              <a href="/buy" class="menu-link">
                <i class="menu-icon tf-icons bx bx-cart"></i>
                <div data-i18n="Layouts">Buy Coins</div>
              </a>
          </li>
               <!-- Store End-->
                </ul>
            </aside>
            <div class="layout-page">
              <!-- Navbar -->

              <nav class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
                  id="layout-navbar">
                  <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
                      <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                          <i class="bx bx-menu bx-sm"></i>
                      </a>
                  </div>

                  <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
                      <!-- Search -->
                      <div class="navbar-nav align-items-center">
                          <% if (settings.api.client.coins.enabled==true) { %>
                          <button type="button" class="btn btn-default">
                              <span>Your coins</span>
                              <span class="badge badge-primary">
                                  <%= coins %>
                              </span>
                          </button>
                          <% } %>
                      </div>
                      <!-- /Search -->

                      <ul class="navbar-nav flex-row align-items-center ms-auto">
                          <!-- Place this tag where you want the button to render. -->
                          <!-- User -->
                          <div class="nav-item lh-1 me-3">
                              <a href="<%= settings.pterodactyl.domain %>"
                                  class="btn btn-sm btn-neutral">Panel</a>
                              <a href="/servers/new" class="btn btn-sm btn-neutral">New Server</a>
                          </div>
                          <li class="nav-item navbar-dropdown dropdown-user dropdown">
                              <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);"
                                  data-bs-toggle="dropdown">
                                  <div class="avatar avatar-online">
                                      <img alt="Avatar"
                                          src="https://cdn.discordapp.com/avatars/<%= req.session.userinfo.id%>/<%= req.session.userinfo.avatar%>.jpg?size=1024">
                                  </div>
                              </a>
                              <ul class="dropdown-menu dropdown-menu-end">
                                  <li>
                                      <a class="dropdown-item" href="#">
                                          <div class="d-flex">
                                              <div class="flex-shrink-0 me-3">
                                                  <div class="avatar avatar-online">
                                                      <img
                                                          src="https://cdn.discordapp.com/avatars/<%= req.session.userinfo.id%>/<%= req.session.userinfo.avatar%>.jpg?size=1024 alt" />
                                                  </div>
                                              </div>
                                              <div class="flex-grow-1">
                                                  <span class="fw-semibold d-block">
                                                      <%= req.session.userinfo.username%>#<%=
                                                                      req.session.userinfo.discriminator %>
                                                  </span>
                                                  <small class="text-muted">ID: <%=
                                                                  req.session.userinfo.id%></small>
                                              </div>
                                          </div>
                                      </a>
                                  </li>
                                  <li>
                                      <a class="dropdown-item" href="/logout">
                                          <i class="bx bx-power-off me-2"></i>
                                          <span class="align-middle">Log Out</span>
                                      </a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </div>
              </nav>
              <!-- Content wrapper -->
                  <!-- Content -->
<body>
                      <%- include('./parts/ads') %>
        <!-- Page content -->
 <%
            let ram = 0;
            let disk = 0;
            let cpu = 0;
            let databases = 0;
            let ports = 0;
            let backups = 0;
            let servers = pterodactyl.relationships.servers.data.length;
            for (let i = 0, len = pterodactyl.relationships.servers.data.length; i < len; i++) {
                ram = ram + (typeof pterodactyl.relationships.servers.data[i].attributes.limits.memory == "number" ? pterodactyl.relationships.servers.data[i].attributes.limits.memory : 0);
                disk = disk + (typeof pterodactyl.relationships.servers.data[i].attributes.limits.disk == "number" ? pterodactyl.relationships.servers.data[i].attributes.limits.disk : 0);
                cpu = cpu + (typeof pterodactyl.relationships.servers.data[i].attributes.limits.cpu == "number" ? pterodactyl.relationships.servers.data[i].attributes.limits.cpu : 0);
                databases = databases + (typeof pterodactyl.relationships.servers.data[i].attributes.feature_limits.databases == "number" ? pterodactyl.relationships.servers.data[i].attributes.feature_limits.databases : 0);
                ports = ports + (typeof pterodactyl.relationships.servers.data[i].attributes.feature_limits.allocations == "number" ? pterodactyl.relationships.servers.data[i].attributes.feature_limits.allocations : 0);
                backups = backups + (typeof pterodactyl.relationships.servers.data[i].attributes.feature_limits.backups == "number" ? pterodactyl.relationships.servers.data[i].attributes.feature_limits.backups : 0);
            }
        %>                            
        <div class="container-xxl flex-grow-1 container-p-y">
          <div class="content-wrapper">
            <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Server /</span> Create a Server</h4>
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">Create instance</div>
                                </div>
                                <div class="card-body">
                                    <input type="text" class="form-control" id="name" placeholder="Name">
                                    <br>
                                    <label for="location">Location:</label>
                                    <select class="form-control" id="location">
                                      <% for (let [name, value] of Object.entries(settings.api.client.locations)) { %>
                                        <option value="<%= name %>"><%= value.name %></option>
                                      <% } %>
                                    </select>
                                    <br>
                                    <label for="location">Egg:</label>
                                    <select class="form-control" id="egg">
                                      <% for (let [name, value] of Object.entries(settings.api.client.eggs)) { %>
                                        <option value="<%= name %>"><%= value.display %></option>
                                      <% } %>
                                    </select>
                                    <br>
                                    <label for="ram">RAM:</label>
                                    <input type="text" class="form-control" id="ram" placeholder="<%= ram %>">
                                    <br>
                                    <label for="disk">DISK:</label>
                                    <input type="text" class="form-control" id="disk" placeholder="<%= disk %>">
                                    <br>
                                    <label for="cpu">CPU:</label>
                                    <input type="text" class="form-control" id="cpu" placeholder="<%= cpu %>">
                                    <br>
                                    <label for="databases">Databases:</label>
                                    <input type="text" class="form-control" id="databases" placeholder="<%= databases %>">
                                    <br>
                                    <label for="ports">Ports:</label>
                                    <input type="text" class="form-control" id="ports" placeholder="<%= ports %>">
                                    <br>
                                    <label for="backups">Backup Slots:</label>
                                    <input type="text" class="form-control" id="backups" placeholder="<%= backups %>">
                                    <br>
                                    <button onclick="submitForm()" class="btn btn-primary" style="background-color: #33404D;">Create</button>
                                <br></div></div>
                                <script>
                                    async function submitForm() {
                                        let name = encodeURIComponent(document.getElementById("name").value);
                                        let egg = encodeURIComponent(document.getElementById("egg").value);
                                        let ram = encodeURIComponent(document.getElementById("ram").value);
                                        let disk = encodeURIComponent(document.getElementById("disk").value);
                                        let cpu = encodeURIComponent(document.getElementById("cpu").value);
                                        let databases = encodeURIComponent(document.getElementById("databases").value)
                                        let ports = encodeURIComponent(document.getElementById("ports").value)
                                        let backups = encodeURIComponent(document.getElementById("backups").value)
                                        let location = encodeURIComponent(document.getElementById("location").value);
                                        document.location.href = `/create?name=${name}&egg=${egg}&ram=${ram}&disk=${disk}&cpu=${cpu}&databases=${databases}&ports=${ports}&backups=${backups}&location=${location}`;
                                    };
                                </script>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>
          </div>
		</div>
	  </div>
              
        
                <!-- Footer -->
  <%- include('./parts/footer') %>
            </div>
        </div>
        <script src="/assets/thmeneed/vendor/jquery/dist/jquery.min.js"></script>
        <script src="/assets/thmeneed/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="/assets/thmeneed/vendor/js-cookie/js.cookie.js"></script>
        <script src="/assets/thmeneed/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
        <script src="/assets/thmeneed/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
        <script src="/assets/thmeneed/vendor/chart.js/dist/Chart.min.js"></script>
        <script src="/assets/thmeneed/vendor/chart.js/dist/Chart.extension.js"></script>
        <script src="/assets/thmeneed/js/argon.js?v=1.2.0"></script>
</body>
</html>
    
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- Plugin js for this page -->
    <script src="/assets/vendors/select2/select2.min.js"></script>
    <script src="/assets/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <script>
      async function submitGift() {
        let id = encodeURIComponent(document.getElementById("InputID").value);
        let ram = encodeURIComponent(document.getElementById("InputRAM").value);
        let disk = encodeURIComponent(document.getElementById("InputDisk").value);
        let cpu = encodeURIComponent(document.getElementById("InputCPU").value);
        let servers = encodeURIComponent(document.getElementById("InputServers").value);
        document.location.href = `/giftres?id=${id}&ram=${ram}&disk=${disk}&cpu=${cpu}&servers=${servers}`;
      };
    </script>
    <!-- End plugin js for this page -->
    <!-- endinject -->
  
    <!-- Custom js for this page -->
    <script src="/assets/js/file-upload.js"></script>
    <script src="/assets/js/typeahead.js"></script>
    <script src="/assets/js/select2.js"></script>
    <!-- End custom js for this page -->
  </body>
</html>